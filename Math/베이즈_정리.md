# 🎲 조건부 확률과 베이즈 정리

## 조건부 확률 (Conditional Probability)

### 정의

사건 ($A$)와 사건 ($B$)가 있을 때, 사건 ($B$)가 일어났다는 조건하에서 사건 ($A$)가 일어날 확률을 **조건부 확률**이라 하고, 다음과 같이 정의합니다

$
P(A|B) = \frac{P(A \cap B)}{P(B)} \quad (P(B) > 0)
$

- $P(A|B)$: $B$가 일어났을 때 $A$가 일어날 확률  
- $P(A \cap B)$: $A$와 $B$가 동시에 일어날 확률  
- 조건부 확률은 **조건을 반영한 새로운 확률 공간**에서의 확률이라고 볼 수 있습니다

조건부 확률 정의에서 다음 관계를 얻을 수 있습니다

$
P(A \cap B) = P(A|B) \cdot P(B) = P(B|A) \cdot P(A)
$

이는 사건이 동시에 일어날 확률을 계산하는 중요한 공식입니다

## 베이즈 정리 (Bayes' Theorem)

조건부 확률의 정의와 곱셈정리를 이용하면 다음과 같이 정리할 수 있습니다

$
P(A|B) = P(A) \frac{P(B|A)}{P(B)}
$

여기서 $P(B)$는 전체 확률의 법칙을 이용해 계산합니다

$
P(B) = \sum_{i=1}^n P(B|A_i) \cdot P(A_i)
$

### 해석

- $P(H)$: 사전확률(Prior Probability)
- $P(E|H)$: 가능도(Likelihood)
- $P(E)$: Evidence
- $P(H|E)$: 사후확률(Posterior Probability)

즉, **베이즈 정리**는 새로운 증거 $B$를 관측했을 때, 사건 $A$의 확률을 갱신하는 방법을 알려줍니다

<img src="https://i.ibb.co/Z6YY24b3/image.png" alt="image" border="0">

## 예시

### 예: 질병 검사 문제

- 어떤 질병에 걸릴 확률 $P(D) = 0.01$
- 검사 정확도: 질병이 있을 때 양성일 확률 $P(T^+|D) = 0.99$
- 질병이 없을 때도 양성이 나올 확률 $P(T^+|\bar{D}) = 0.05$

>환자가 검사에서 양성($T^+$)이 나왔을 때, 실제로 질병이 있을 확률은?

$
P(D|T^+) = \frac{P(T^+|D) \cdot P(D)}{P(T^+|D) \cdot P(D) + P(T^+|\bar{D}) \cdot P(\bar{D})}
$

$
= \frac{0.99 \cdot 0.01}{0.99 \cdot 0.01 + 0.05 \cdot 0.99} \approx 0.167
$

즉, 양성이 나와도 실제로 질병이 있을 확률은 약 16.7%에 불과합니다

> 참고자료 - [공돌이의 수학정리노트 (Angelo's Math Notes)](https://angeloyeo.github.io/2020/01/09/Bayes_rule.html)<br>
> 2025.09.10 작성